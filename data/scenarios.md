# Типовые сценарии работы бота

## Сценарий 1: FAQ вопрос (автоматический ответ)

**Вход:** Пользователь задает типовой вопрос
**Процесс:**
1. RAG система находит ответ в базе знаний
2. Классификатор определяет низкий приоритет (P4)
3. Бот определяет, что это FAQ
4. Бот отвечает пользователю сразу
5. Обращение не создается (или создается с низким приоритетом для статистики)

**Примеры:**
- "Как изменить пароль?"
- "Как подключиться к Wi-Fi?"
- "Как проверить на вирусы?"

## Сценарий 2: Простая проблема (1-я линия)

**Вход:** Пользователь описывает простую проблему
**Процесс:**
1. RAG система ищет похожие случаи
2. Классификатор определяет средний/низкий приоритет (P3-P4)
3. Бот определяет тематику
4. Бот создает обращение на 1-ю линию
5. Пользователь получает номер обращения

**Примеры:**
- "Медленно работает портал"
- "Не открывается файл"
- "Нет доступа к папке"

## Сценарий 3: Сложная проблема (2-я линия)

**Вход:** Пользователь описывает сложную техническую проблему
**Процесс:**
1. RAG система ищет информацию
2. Классификатор определяет высокий приоритет (P2) или тематику для эскалации
3. Бот определяет, что требуется 2-я линия
4. Бот создает обращение на 2-ю линию с предзаполненными атрибутами
5. Пользователь получает уведомление

**Примеры:**
- "Не работает почтовый сервер для всего отдела"
- "База данных работает очень медленно"
- "Требуется настройка VPN"

## Сценарий 4: Критическая проблема (3-я линия)

**Вход:** Пользователь описывает критическую проблему
**Процесс:**
1. RAG система ищет информацию
2. Классификатор определяет критический приоритет (P1)
3. Бот автоматически эскалирует на 3-ю линию
4. Бот создает обращение с пометкой "Критическое"
5. Пользователь получает уведомление о срочности

**Примеры:**
- "Система полностью недоступна"
- "Обнаружена утечка данных"
- "Сервер не отвечает"

## Сценарий 5: Многошаговый диалог

**Вход:** Пользователь задает неясный вопрос
**Процесс:**
1. Бот анализирует запрос
2. Если информации недостаточно, бот может запросить уточнение
3. История диалога сохраняется
4. При уточнении бот переклассифицирует обращение
5. Создается обращение с полным контекстом

**Примеры:**
- Пользователь: "Не работает"
- Бот: "Можете уточнить, что именно не работает?"
- Пользователь: "Не могу войти в систему"
- Бот: [Создает обращение с полным контекстом]

## Сценарий 6: Смешанный запрос

**Вход:** Пользователь задает несколько вопросов в одном сообщении
**Процесс:**
1. Бот пытается разбить запрос на части
2. Для каждой части выполняется отдельная обработка
3. Создаются отдельные обращения или даются отдельные ответы

**Примеры:**
- "Как изменить пароль? И еще не работает принтер"
- Бот отвечает на FAQ и создает обращение по принтеру

## Сценарий 7: Эскалация существующего обращения

**Вход:** Пользователь сообщает, что проблема не решена
**Процесс:**
1. Бот ищет существующее обращение пользователя
2. Если обращение существует и не решено, обновляет его
3. Если обращение решено или не найдено, создает новое
4. При необходимости эскалирует на следующую линию

## Сценарий 8: Безопасность

**Вход:** Пользователь сообщает о проблеме безопасности
**Процесс:**
1. Классификатор определяет тематику "Безопасность"
2. Приоритет автоматически повышается
3. Бот создает обращение на соответствующую линию (обычно 2-3)
4. Пользователь получает инструкции по безопасности

**Примеры:**
- "Получил подозрительное письмо"
- "Антивирус обнаружил угрозу"
- "Подозрительная активность в системе"

