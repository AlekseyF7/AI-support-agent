# –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–µ–∫—Ç—É AI Support Bot

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç](#–∫–∞–∫-—Ä–∞–±–æ—Ç–∞–µ—Ç-–ø—Ä–æ–µ–∫—Ç)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
3. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
4. [–ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å –ë–î](#–∫–æ–≥–¥–∞-–æ–±–Ω–æ–≤–ª—è—Ç—å-–±–¥)
5. [–†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å](#—Ä–∞–±–æ—á–∏–π-–ø—Ä–æ—Ü–µ—Å—Å)
6. [–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç

### –û–±—â–∏–π –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ **–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ —Å–ª—É–∂–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –±–∞–Ω–∫–∞**, –∫–æ—Ç–æ—Ä—ã–π:

1. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã** –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ Telegram (—Ç–µ–∫—Å—Ç, –≥–æ–ª–æ—Å, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã)
2. **–†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ** (–≥–æ–ª–æ—Å ‚Üí —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ Salute Speech, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã ‚Üí —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ Tesseract OCR)
3. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å**:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –ª–∏ –≤–æ–ø—Ä–æ—Å –∫ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–µ
   - –ò—â–µ—Ç –æ—Ç–≤–µ—Ç –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (RAG —Å–∏—Å—Ç–µ–º–∞)
   - –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏
4. **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç** —á–µ—Ä–µ–∑ GigaChat –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
5. **–°–æ–∑–¥–∞—ë—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ (—Ç–∏–∫–µ—Ç)**, –µ—Å–ª–∏ –≤–æ–ø—Ä–æ—Å —Ç—Ä–µ–±—É–µ—Ç –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
6. **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ** –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ª–∏–Ω–∏—é –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### –ü–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
    ‚Üì
[–¢–µ–∫—Å—Ç] ‚Üí –ü—Ä—è–º–æ –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É
[–ì–æ–ª–æ—Å] ‚Üí Salute Speech ‚Üí –¢–µ–∫—Å—Ç ‚Üí –û–±—Ä–∞–±–æ—Ç–∫–∞
[–°–∫—Ä–∏–Ω—à–æ—Ç] ‚Üí Tesseract OCR ‚Üí –¢–µ–∫—Å—Ç ‚Üí –û–±—Ä–∞–±–æ—Ç–∫–∞
    ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–∏ (Classifier)
    ‚Üì
–ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (RAG System)
    ‚Üì
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ (GigaChat)
    ‚Üì
–û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    ‚Üì
–ù—É–∂–Ω–æ –ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ?
    ‚Üì (–î–∞)
–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (–∫–∞—Ç–µ–≥–æ—Ä–∏—è, –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å, –ª–∏–Ω–∏—è)
    ‚Üì
–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–∫–µ—Ç–∞ (Escalation System)
    ‚Üì
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
```

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. **bot.py** - –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Å—Ç–æ—Ä–∏–µ–π —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã (`/start`, `/help`, `/my_tickets`, `/clear`)

#### 2. **config.py** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `.env` —Ñ–∞–π–ª–∞
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º

#### 3. **models.py** - –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü (SQLAlchemy ORM)
- –°–æ–¥–µ—Ä–∂–∏—Ç enum'—ã –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤, –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ë–î –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

#### 4. **gigachat_client.py** - –ö–ª–∏–µ–Ω—Ç GigaChat API
- –ü–æ–ª—É—á–∞–µ—Ç OAuth —Ç–æ–∫–µ–Ω
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ GigaChat –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ API

#### 5. **rag_system.py** - –°–∏—Å—Ç–µ–º–∞ RAG (Retrieval-Augmented Generation)
- –•—Ä–∞–Ω–∏—Ç –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –≤ ChromaDB (–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î)
- –ò—â–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞

#### 6. **classifier.py** - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –ª–∏ –≤–æ–ø—Ä–æ—Å –∫ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–µ
- –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (technical, billing, account, etc.)
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å (low, medium, high, critical)
- –í—ã–±–∏—Ä–∞–µ—Ç –ª–∏–Ω–∏—é –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (line_1, line_2, line_3)

#### 7. **escalation.py** - –°–∏—Å—Ç–µ–º–∞ —ç—Å–∫–∞–ª–∞—Ü–∏–∏
- –°–æ–∑–¥–∞—ë—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è (—Ç–∏–∫–µ—Ç—ã)
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –ø–æ –ª–∏–Ω–∏—è–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å–∞–º–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

#### 8. **salute_speech_client.py** - –ö–ª–∏–µ–Ω—Ç Salute Speech
- –ü–æ–ª—É—á–∞–µ—Ç OAuth —Ç–æ–∫–µ–Ω –¥–ª—è SmartSpeech API
- –†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç —Ä–µ—á—å –∏–∑ –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

#### 9. **operator_commands.py** - –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- `/tickets` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π
- `/ticket <id>` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±—Ä–∞—â–µ–Ω–∏–∏
- `/take <id>` - –≤–∑—è—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ –≤ —Ä–∞–±–æ—Ç—É
- `/reply <id> <—Ç–µ–∫—Å—Ç>` - –æ—Ç–≤–µ—Ç–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- `/close <id>` - –∑–∞–∫—Ä—ã—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ
- `/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **SQLite** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Ñ–∞–π–ª `support.db` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞).

#### –¢–∞–±–ª–∏—Ü–∞ `tickets` (–æ–±—Ä–∞—â–µ–Ω–∏—è)

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| `id` | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –æ–±—Ä–∞—â–µ–Ω–∏—è |
| `title` | VARCHAR(255) | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ–±—Ä–∞—â–µ–Ω–∏—è |
| `description` | TEXT | –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã |
| `user_id` | INTEGER | Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `user_name` | VARCHAR(255) | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `category` | VARCHAR(50) | –ö–∞—Ç–µ–≥–æ—Ä–∏—è (technical, billing, etc.) |
| `criticality` | VARCHAR(50) | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å (low, medium, high, critical) |
| `support_line` | VARCHAR(50) | –õ–∏–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (line_1, line_2, line_3) |
| `status` | VARCHAR(50) | –°—Ç–∞—Ç—É—Å (open, in_progress, resolved, closed) |
| `operator_id` | INTEGER | ID –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, –≤–∑—è–≤—à–µ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ |
| `operator_name` | VARCHAR(255) | –ò–º—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ |
| `conversation_history` | TEXT | JSON —Å –∏—Å—Ç–æ—Ä–∏–µ–π —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ |
| `created_at` | DATETIME | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | DATETIME | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

#### –¢–∞–±–ª–∏—Ü–∞ `ticket_responses` (–æ—Ç–≤–µ—Ç—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤)

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| `id` | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –æ—Ç–≤–µ—Ç–∞ |
| `ticket_id` | INTEGER | ID –æ–±—Ä–∞—â–µ–Ω–∏—è |
| `operator_id` | INTEGER | ID –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ |
| `operator_name` | VARCHAR(255) | –ò–º—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ |
| `message` | TEXT | –¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞ |
| `created_at` | DATETIME | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ |

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î

**–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ** –±–æ—Ç–∞ (`python bot.py`) –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `init_db()` –≤ `models.py`.

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ë–î –≤—Ä—É—á–Ω—É—é:

```bash
python init_db.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ë–î —Å–æ–∑–¥–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```bash
python check_database.py
```

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç:
- –í—Å–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `tickets`
- –ù–∞–ª–∏—á–∏–µ –∫–æ–ª–æ–Ω–æ–∫ `operator_id` –∏ `operator_name`
- –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `ticket_responses`

---

## –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å –ë–î

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**–ë–î –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞, –µ—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å.

### –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```bash
python update_database.py
```

### –ö–æ–≥–¥–∞ —ç—Ç–æ –Ω—É–∂–Ω–æ?

1. **–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞**, –µ—Å–ª–∏ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ `models.py`
2. **–ï—Å–ª–∏ –ë–î –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–µ–π** –∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è
3. **–ü–æ—Å–ª–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞** –Ω–∞ –Ω–æ–≤—É—é –º–∞—à–∏–Ω—É (–µ—Å–ª–∏ –ë–î —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `update_database.py`?

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã:

- ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–ª–æ–Ω–∫—É `operator_id` –≤ —Ç–∞–±–ª–∏—Ü—É `tickets` (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
- ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–ª–æ–Ω–∫—É `operator_name` –≤ —Ç–∞–±–ª–∏—Ü—É `tickets` (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—É `ticket_responses` (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ `ticket_id`

**–í–∞–∂–Ω–æ:** –°–∫—Ä–∏–ø—Ç **–Ω–µ —É–¥–∞–ª—è–µ—Ç** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ, —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –∏ —Ç–∞–±–ª–∏—Ü—ã.

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: support.db
–¢–µ–∫—É—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏: id, title, description, user_id, user_name, category, criticality, support_line, status, created_at, updated_at
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ operator_id...
‚úÖ –ö–æ–ª–æ–Ω–∫–∞ operator_id –¥–æ–±–∞–≤–ª–µ–Ω–∞
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ operator_name...
‚úÖ –ö–æ–ª–æ–Ω–∫–∞ operator_name –¥–æ–±–∞–≤–ª–µ–Ω–∞
–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã ticket_responses...
‚úÖ –¢–∞–±–ª–∏—Ü–∞ ticket_responses —Å–æ–∑–¥–∞–Ω–∞

============================================================
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!
============================================================
```

---

## –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. **–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã**: `/start` - –±–æ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∏ –æ–±—ä—è—Å–Ω—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
2. **–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç —Ç–µ–∫—Å—Ç, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç
3. **–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞**: –ë–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—á–∞–µ—Ç
4. **–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏—è**: –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–∏–∫–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
5. **–ü—Ä–æ—Å–º–æ—Ç—Ä –æ–±—Ä–∞—â–µ–Ω–∏–π**: `/my_tickets` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
6. **–û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏**: `/clear` - –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ä–∞–∑–≥–æ–≤–æ—Ä–∞

### –î–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

1. **–î–æ—Å—Ç—É–ø**: –û–ø–µ—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ `OPERATOR_IDS` –≤ `.env`
2. **–ü—Ä–æ—Å–º–æ—Ç—Ä –æ–±—Ä–∞—â–µ–Ω–∏–π**: `/tickets` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π
3. **–î–µ—Ç–∞–ª–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è**: `/ticket <id>` - –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±—Ä–∞—â–µ–Ω–∏–∏
4. **–í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É**: `/take <id>` - –æ–ø–µ—Ä–∞—Ç–æ—Ä –±–µ—Ä—ë—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –≤ —Ä–∞–±–æ—Ç—É
5. **–û—Ç–≤–µ—Ç–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**: `/reply <id> <—Ç–µ–∫—Å—Ç>` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
6. **–ó–∞–∫—Ä—ã—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ**: `/close <id>` - –∑–∞–∫—Ä—ã—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã
7. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: `/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ–±—Ä–∞—â–µ–Ω–∏—è–º

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞—â–µ–Ω–∏—è

```
[–°–æ–∑–¥–∞–Ω–æ] ‚Üí open
    ‚Üì
[–û–ø–µ—Ä–∞—Ç–æ—Ä –≤–∑—è–ª –≤ —Ä–∞–±–æ—Ç—É] ‚Üí in_progress
    ‚Üì
[–¢—Ä–µ–±—É–µ—Ç—Å—è —ç—Å–∫–∞–ª–∞—Ü–∏—è] ‚Üí escalated (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    ‚Üì
[–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞] ‚Üí resolved
    ‚Üì
[–ó–∞–∫—Ä—ã—Ç–æ] ‚Üí closed
```

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã (–Ω–µ —É–¥–∞–ª—è—Ç—å!)

- `bot.py` - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
- `config.py` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `models.py` - –º–æ–¥–µ–ª–∏ –ë–î
- `gigachat_client.py` - –∫–ª–∏–µ–Ω—Ç GigaChat
- `rag_system.py` - RAG —Å–∏—Å—Ç–µ–º–∞
- `classifier.py` - –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `escalation.py` - —Å–∏—Å—Ç–µ–º–∞ —ç—Å–∫–∞–ª–∞—Ü–∏–∏
- `operator_commands.py` - –∫–æ–º–∞–Ω–¥—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- `salute_speech_client.py` - –∫–ª–∏–µ–Ω—Ç Salute Speech

#### –£—Ç–∏–ª–∏—Ç—ã

- `create_env.py` - —Å–æ–∑–¥–∞–Ω–∏–µ `.env` —Ñ–∞–π–ª–∞
- `init_db.py` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü)
- `update_database.py` - **–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î** (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–ª–æ–Ω–æ–∫)
- `check_database.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
- `add_operator.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –≤ —Å–∏—Å—Ç–µ–º—É
- `setup_operator.py` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

#### –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞

- `start_bot.bat` - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ (Windows CMD)
- `start_bot.ps1` - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ (PowerShell)
- `install_dependencies.bat` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (CMD)
- `install_dependencies.ps1` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (PowerShell)

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `README.md` - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `PROJECT_GUIDE.md` - —ç—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `OPERATORS_README.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- `HOW_TO_GET_OPERATOR_ACCESS.md` - –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
- `HOW_TO_REPLY_TO_TICKET.md` - –∫–∞–∫ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- `.env` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `create_env.py`)
- `requirements.txt` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
- `.gitignore` - —Ñ–∞–π–ª—ã, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ Git

---

## –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ù—É–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å `update_database.py` –∫–∞–∂–¥—ã–π —Ä–∞–∑?

**A:** –ù–µ—Ç, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
- –í—ã –æ–±–Ω–æ–≤–∏–ª–∏ –∫–æ–¥ –∏ –¥–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ `models.py`
- –ë–î –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–µ–π –ø—Ä–æ–µ–∫—Ç–∞
- –í—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏

### Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ë–î –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞?

**A:** 
1. –°–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é `support.db` (–µ—Å–ª–∏ –µ—Å—Ç—å –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
2. –£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª `support.db`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python init_db.py` –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ (–ë–î —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### Q: –ö–∞–∫ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ë–î –Ω–∞ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä?

**A:** 
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `support.db`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python update_database.py` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL –≤–º–µ—Å—Ç–æ SQLite?

**A:** –î–∞, –∏–∑–º–µ–Ω–∏—Ç–µ `DATABASE_URL` –≤ `.env`:
```
DATABASE_URL=postgresql+psycopg2://user:password@localhost:5432/support_db
```
–ù–æ –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL –∏ –¥—Ä–∞–π–≤–µ—Ä `psycopg2-binary`.

---

## –†–µ–∑—é–º–µ

- **–ë–î —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î** –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏)
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `update_database.py`** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `check_database.py`** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è** –≤ —Ñ–∞–π–ª–µ `support.db` (SQLite)
